<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- 在 meta 标签中设置 user-scalable 属性 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="ORUI">
    <link rel="manifest" href="manifest.json">
    <link href="./components/index.css" rel="stylesheet">
    <script src="./components/index.js" type="module" defer></script>
    <script src="https://cdn.staticfile.org/echarts/4.3.0/echarts.min.js"></script>
    <title>Hash Router</title>
</head>
<body>
<div id="root"></div>
<script type="module" src="./index.js"></script>

<script>
    const registerServiceWorker = async () => {
        if ("serviceWorker" in navigator) {
            alert(1);
            try {
                const registration = await navigator.serviceWorker.register("/service_worker.js", {
                    scope: "/",
                });
                if (registration.installing) {
                    alert(2);
                    console.log("正在安装 Service worker");
                } else if (registration.waiting) {
                    alert(3);
                    console.log("已安装 Service worker installed");
                } else if (registration.active) {
                    alert(4);
                    console.log("激活 Service worker");
                }
            } catch (error) {
                alert(5);
                console.error(`注册失败：${error}`);
            }
        }
    };

    // …

    registerServiceWorker();
</script>
</body>
</html>
